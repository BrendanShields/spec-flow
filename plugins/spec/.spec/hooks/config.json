{
  "$schema": "https://spec-workflow.dev/schemas/hooks-config.schema.json",
  "version": "1.0.0",
  "hooks": {
    "post-command": {
      "enabled": true,
      "mode": "async",
      "blocking": false,
      "timeout": 5000,
      "scripts": [
        "core/post-command.sh"
      ],
      "description": "Runs after every /spec command to update state"
    },
    "on-task-complete": {
      "enabled": true,
      "mode": "sync",
      "blocking": false,
      "timeout": 2000,
      "scripts": [
        "core/on-task-complete.sh"
      ],
      "description": "Runs when a task is marked complete"
    },
    "pre-commit": {
      "enabled": true,
      "mode": "sync",
      "blocking": true,
      "timeout": 10000,
      "scripts": [
        "core/pre-commit.sh"
      ],
      "description": "Validates state before git commit"
    },
    "post-merge": {
      "enabled": true,
      "mode": "sync",
      "blocking": false,
      "timeout": 5000,
      "scripts": [
        "core/post-merge.sh"
      ],
      "description": "Synchronizes state after git pull/merge"
    }
  },
  "validation": {
    "schema": true,
    "consistency": true,
    "locks": true
  },
  "performance": {
    "budgets": {
      "post-command": 100,
      "on-task-complete": 50,
      "pre-commit": 500,
      "post-merge": 200
    },
    "units": "milliseconds"
  },
  "logging": {
    "enabled": true,
    "level": "INFO",
    "file": ".spec/logs/hooks.log",
    "performance_log": ".spec/logs/hook-performance.log",
    "rotation": {
      "enabled": true,
      "max_age_days": 7
    }
  },
  "sandbox": {
    "enabled": true,
    "allowed_paths": [
      "/usr/bin",
      "/bin"
    ],
    "allowed_env_vars": [
      "SPEC_ROOT",
      "SPEC_EVENT",
      "SPEC_FEATURE"
    ]
  }
}
